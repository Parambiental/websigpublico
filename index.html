<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visor SIG Unificado con Atributos y GeoJSON</title>

    <!-- Hojas de estilo -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.css" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-measure/dist/leaflet-measure.css" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen@1.6.0/Control.FullScreen.css" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-minimap/dist/Control.MiniMap.min.css" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-easybutton/src/easy-button.css" crossorigin="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css">

    <!-- Estilos propios -->
    <link rel="stylesheet" href="style.css" />

</head>
<body>
    <div id="map-container"></div>

    <div id="sidebar" class="hidden">
        <div id="table-container">
            <table id="feature-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tipo</th>
                        <th>Icono</th>
                        <th>Nombre</th>
                        <th>Coordenadas</th>
                        <th>Color</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- Modal de Edición -->
    <div id="edit-modal" class="modal-backdrop">
        <div class="modal-content">
            <label for="edit-feature-name">Nombre:</label>
            <input type="text" id="edit-feature-name" />
            <label for="edit-feature-color">Color:</label>
            <input type="color" id="edit-feature-color" />
            <label id="icon-label" style="display: none;">Icono:</label>
            <select id="edit-feature-icon" style="display: none;"></select>
            <div class="modal-buttons">
                <button id="cancel-edit">Cancelar</button>
                <button id="save-edit">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Flecha norte -->
    <img id="north-arrow" src="https://upload.wikimedia.org/wikipedia/commons/e/e7/North_arrow_01.svg" alt="North Arrow">

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.draw@1.0.4/dist/leaflet.draw.js"></script>
    <script src="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.js"></script>
    <script src="https://unpkg.com/leaflet-measure/dist/leaflet-measure.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="https://unpkg.com/leaflet.fullscreen@1.6.0/Control.FullScreen.js"></script>
    <script src="https://unpkg.com/leaflet-minimap/dist/Control.MiniMap.min.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="https://unpkg.com/leaflet-easybutton/src/easy-button.js"></script>
    <script src="script.js"></script>

    <script>
        const geojsonFiles = [
            {
                name: "Locales de Salud (2012)",
                url: "/geojsonFiles/LOCALES_DE_SALUD_DGEEC2012.geojson",
                style: { color: "#e41a1c", weight: 2, opacity: 0.7, fillColor: "#e41a1c", fillOpacity: 0.4 }
            },
            {
                name: "Locales Policiales (2012)",
                url: "/geojsonFiles/LOCALES_POLICIALES_DGEEC2012.geojson",
                style: { color: "#377eb8", weight: 2, opacity: 0.7, fillColor: "#377eb8", fillOpacity: 0.4 }
            },
            {
                name: "Locales Educativos (2012)",
                url: "/geojsonFiles/LOCALES_EDUCATIVOS_DGEEC2012.geojson",
                style: { color: "#4daf4a", weight: 2, opacity: 0.7, fillColor: "#4daf4a", fillOpacity: 0.4 }
            },
            {
                name: "Barrios y Localidades (2025)",
                url: "/geojsonFiles/geo-boundaries-world-110m-main-countries.geojson",
                style: { color: "#ff7f00", weight: 1, opacity: 0.6, fillColor: "#ff7f00", fillOpacity: 0.2 },
                cluster: true
            }
        ];

        // Lógica para carga de GeoJSON y otras funcionalidades como la tabla, el mapa, etc.
        // Los detalles de la configuración del mapa van aquí...
    </script>

</body>
</html>
